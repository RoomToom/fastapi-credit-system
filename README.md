# üìå FastAPI Credit System

–¶–µ–π –ø—Ä–æ—î–∫—Ç —Ä–µ–∞–ª—ñ–∑—É—î **REST API** –¥–ª—è —Ä–æ–±–æ—Ç–∏ –∑ –∫—Ä–µ–¥–∏—Ç–∞–º–∏, –ø–ª–∞–Ω–∞–º–∏ —Ç–∞ –ø–ª–∞—Ç–µ–∂–∞–º–∏, –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—á–∏ **FastAPI**, **SQLAlchemy** —Ç–∞ **MySQL**.  
API –¥–æ–∑–≤–æ–ª—è—î –æ—Ç—Ä–∏–º—É–≤–∞—Ç–∏ —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—é –ø—Ä–æ –∫—Ä–µ–¥–∏—Ç–∏ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤, –∑–∞–≤–∞–Ω—Ç–∞–∂—É–≤–∞—Ç–∏ —Ñ—ñ–Ω–∞–Ω—Å–æ–≤—ñ –ø–ª–∞–Ω–∏ —Ç–∞ –∞–Ω–∞–ª—ñ–∑—É–≤–∞—Ç–∏ —ó—Ö –≤–∏–∫–æ–Ω–∞–Ω–Ω—è.

## **üìå –û—Å–Ω–æ–≤–Ω—ñ –µ–Ω–¥–ø–æ—ñ–Ω—Ç–∏**
üîπ **`GET /user_credits/{user_id}`** ‚Äì –û—Ç—Ä–∏–º–∞—Ç–∏ —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—é –ø—Ä–æ –∫—Ä–µ–¥–∏—Ç–∏ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞  
üîπ **`POST /plans_insert`** ‚Äì –ó–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç–∏ —Ñ—ñ–Ω–∞–Ω—Å–æ–≤—ñ –ø–ª–∞–Ω–∏ –∑ Excel  
üîπ **`GET /plans_performance?date=YYYY-MM-DD`** ‚Äì –í–∏–∫–æ–Ω–∞–Ω–Ω—è –ø–ª–∞–Ω—ñ–≤ –Ω–∞ –¥–∞—Ç—É  
üîπ **`GET /year_performance?year=YYYY`** ‚Äì –ê–Ω–∞–ª—ñ—Ç–∏–∫–∞ –ø–æ —Ñ—ñ–Ω–∞–Ω—Å–∞—Ö –∑–∞ —Ä—ñ–∫  

---

## **üìå –ö–ª–æ–Ω—É–≤–∞–Ω–Ω—è —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ—é**
–©–æ–± –∑–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç–∏ —Ü–µ–π –ø—Ä–æ—î–∫—Ç, –≤–∏–∫–æ–Ω–∞–π—Ç–µ –∫–æ–º–∞–Ω–¥—É:
```bash
git clone https://github.com/RoomToom/fastapi-credit-system.git
cd fastapi-credit-system
```

---

## **üìå –í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è –∑–∞–ª–µ–∂–Ω–æ—Å—Ç–µ–π**
–ü–µ—Ä–µ–¥ –∑–∞–ø—É—Å–∫–æ–º –ø—Ä–æ—î–∫—Ç—É –ø–æ—Ç—Ä—ñ–±–Ω–æ –≤—Å—Ç–∞–Ω–æ–≤–∏—Ç–∏ –≤—Å—ñ –Ω–µ–æ–±—Ö—ñ–¥–Ω—ñ –ø–∞–∫–µ—Ç–∏:
```bash
pip install -r requirements.txt
```
---

## **üìå –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –±–∞–∑–∏ –¥–∞–Ω–∏—Ö**
–ü—Ä–æ—î–∫—Ç –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î **MySQL**, —ñ –≤ –ø–∞–ø—Ü—ñ `data/` –º—ñ—Å—Ç—è—Ç—å—Å—è –≤—Å—ñ –Ω–µ–æ–±—Ö—ñ–¥–Ω—ñ —Ñ–∞–π–ª–∏ –¥–ª—è —ñ–º–ø–æ—Ä—Ç—É —Ç–µ—Å—Ç–æ–≤–∏—Ö –¥–∞–Ω–∏—Ö.

### 1Ô∏è‚É£ **–°—Ç–≤–æ—Ä—ñ—Ç—å –±–∞–∑—É –¥–∞–Ω–∏—Ö `test_db`**
```sql
CREATE DATABASE test_db;
```

### 2Ô∏è‚É£ **–Ü–º–ø–æ—Ä—Ç—É–π—Ç–µ `test_db_dump.sql` —É `test_db`**
–§–∞–π–ª `data/test_db_dump.sql` –º—ñ—Å—Ç–∏—Ç—å —É—Å—ñ –Ω–∞–¥–∞–Ω—ñ —Ç–µ—Å—Ç–æ–≤—ñ –¥–∞–Ω—ñ, –Ω–µ–æ–±—Ö—ñ–¥–Ω—ñ –¥–ª—è —Ä–æ–±–æ—Ç–∏ API. –©–æ–± —ñ–º–ø–æ—Ä—Ç—É–≤–∞—Ç–∏ –π–æ–≥–æ, –≤–∏–∫–æ–Ω–∞–π—Ç–µ:
```bash
mysql -u root -p test_db < data/test_db_dump.sql
```

---

## **üìå –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è `.env`**
**–§–∞–π–ª `.env` –º—ñ—Å—Ç–∏—Ç—å –∫–æ–Ω—Ñ—ñ–¥–µ–Ω—Ü—ñ–π–Ω—ñ –¥–∞–Ω—ñ**, —Ç–æ–º—É –≤—ñ–Ω **–Ω–µ –≤—Ö–æ–¥–∏—Ç—å –¥–æ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ—é**.  
–©–æ–± –ø—Ä–∞–≤–∏–ª—å–Ω–æ –Ω–∞–ª–∞—à—Ç—É–≤–∞—Ç–∏ –ø—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è –¥–æ –±–∞–∑–∏ –¥–∞–Ω–∏—Ö, –≤–∏–∫–æ–Ω–∞–π—Ç–µ –Ω–∞—Å—Ç—É–ø–Ω–µ:

1Ô∏è‚É£ **–°—Ç–≤–æ—Ä—ñ—Ç—å `.env` —É –∫–æ—Ä–µ–Ω—ñ –ø—Ä–æ—î–∫—Ç—É**  
2Ô∏è‚É£ **–ó–∞–ø–æ–≤–Ω—ñ—Ç—å –π–æ–≥–æ –Ω–∞ –æ—Å–Ω–æ–≤—ñ `env.example`**  
```ini
DATABASE_URL=mysql+mysqlconnector://root:yourpassword@localhost:3306/test_db
```

---

## **üìå –ó–∞–ø—É—Å–∫ FastAPI**
–ü—ñ—Å–ª—è –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –±–∞–∑–∏ –¥–∞–Ω–∏—Ö –∑–∞–ø—É—Å—Ç—ñ—Ç—å —Å–µ—Ä–≤–µ—Ä FastAPI:
```bash
uvicorn main:app --reload
```
---

## **üìå –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è API**
FastAPI –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ —Å—Ç–≤–æ—Ä—é—î –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—é **Swagger UI**.  
–í—ñ–¥–∫—Ä–∏–π—Ç–µ –≤ –±—Ä–∞—É–∑–µ—Ä—ñ: **[http://127.0.0.1:8000/docs](http://127.0.0.1:8000/docs)**

## **üìå –¢–µ—Å—Ç–æ–≤—ñ —Ñ–∞–π–ª–∏**
–£ –ø–∞–ø—Ü—ñ `data/` –º—ñ—Å—Ç—è—Ç—å—Å—è —Ñ–∞–π–ª–∏ –¥–ª—è —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è API:
1. **`test_db_dump.sql`** ‚Äì –±–∞–∑–∞ –¥–∞–Ω–∏—Ö —ñ–∑ —Ç–µ—Å—Ç–æ–≤–∏–º–∏ –∑–∞–ø–∏—Å–∞–º–∏.  
2. **`plans.xlsx`** ‚Äì —Ç–µ—Å—Ç–æ–≤–∏–π Excel-—Ñ–∞–π–ª –¥–ª—è –ø–µ—Ä–µ–≤—ñ—Ä–∫–∏ `/plans_insert`.  

---




